(this.webpackJsonp21tut=this.webpackJsonp21tut||[]).push([[0],{40:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(31),a=c.n(r),o=(c(40),c(17)),i=c(5),j=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){var e=function(){s({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c},l=c(0),u=function(e){var t=e.title,c=j().width;return Object(l.jsxs)("header",{className:"Header",children:[Object(l.jsx)("h1",{children:t}),c<768?Object(l.jsx)(o.b,{}):c<992?Object(l.jsx)(o.c,{}):Object(l.jsx)(o.a,{})]})},b=c(4),d=c(9),h=c.n(d),O=c(11),p=c(15),x=c.n(p),f=function(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),s=c[0],r=c[1],a=Object(n.useState)(null),o=Object(i.a)(a,2),j=o[0],l=o[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),d=b[0],p=b[1];return Object(n.useEffect)((function(){var t=!0,c=x.a.CancelToken.source();(function(){var e=Object(O.a)(h.a.mark((function e(n){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,x.a.get(n,{cancelToken:c.token});case 4:s=e.sent,t&&(r(s.data),l(null)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t&&(l(e.t0.message),r([]));case 11:return e.prev=11,t&&p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}})()(e);return function(){t=!1,c.cancel()}}),[e]),{data:s,fetchError:j,isLoading:d}},m=Object(n.createContext)({}),v=function(e){var t=e.children,c=Object(n.useState)([]),s=Object(i.a)(c,2),r=s[0],a=s[1],o=Object(n.useState)(""),j=Object(i.a)(o,2),u=j[0],b=j[1],d=Object(n.useState)([]),h=Object(i.a)(d,2),O=h[0],p=h[1],x=f("http://localhost:3500/posts"),v=x.data,g=x.fetchError,y=x.isLoading;return Object(n.useEffect)((function(){a(v)}),[v]),Object(n.useEffect)((function(){var e=r.filter((function(e){return e.body.toLowerCase().includes(u.toLowerCase())||e.title.toLowerCase().includes(u.toLowerCase())}));p(e.reverse())}),[r,u]),Object(l.jsx)(m.Provider,{value:{search:u,setSearch:b,searchResults:O,fetchError:g,isLoading:y,posts:r,setPosts:a},children:t})},g=m,y=function(){var e=Object(n.useContext)(g),t=e.search,c=e.setSearch;return Object(l.jsxs)("nav",{className:"Nav",children:[Object(l.jsxs)("form",{className:"searchForm",onSubmit:function(e){return e.preventDefault()},children:[Object(l.jsx)("label",{htmlFor:"search",children:"Search Posts"}),Object(l.jsx)("input",{id:"search",type:"text",placeholder:"Search Posts",value:t,onChange:function(e){return c(e.target.value)}})]}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(b.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(b.b,{to:"/post",children:"Post"})}),Object(l.jsx)("li",{children:Object(l.jsx)(b.b,{to:"/about",children:"About"})})]})]})},w=function(){var e=new Date;return Object(l.jsx)("footer",{className:"Footer",children:Object(l.jsxs)("p",{children:["Copyright \xa9 ",e.getFullYear()]})})},N=function(e){var t=e.post;return Object(l.jsxs)("article",{className:"post",children:[Object(l.jsxs)(b.b,{to:"/post/".concat(t.id),children:[Object(l.jsx)("h2",{children:t.title}),Object(l.jsx)("p",{className:"postDate",children:t.datetime})]}),Object(l.jsx)("p",{className:"postBody",children:t.body.length<=25?t.body:"".concat(t.body.slice(0,25),"...")})]})},S=function(e){var t=e.posts;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)(N,{post:e},e.id)}))})},P=function(){var e=Object(n.useContext)(g),t=e.searchResults,c=e.fetchError,s=e.isLoading;return Object(l.jsxs)("main",{className:"Home",children:[s&&Object(l.jsx)("p",{className:"statusMsg",children:"Loading posts..."}),!s&&c&&Object(l.jsx)("p",{className:"statusMsg",style:{color:"red"},children:c}),!s&&!c&&(t.length?Object(l.jsx)(S,{posts:t}):Object(l.jsx)("p",{className:"statusMsg",children:"No posts to display."}))]})},C=c(33),F=c(2),E=c(67),k=x.a.create({baseURL:"http://localhost:3500"}),L=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),a=Object(i.a)(r,2),o=a[0],j=a[1],u=Object(n.useContext)(g),b=u.posts,d=u.setPosts,p=Object(F.f)(),x=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,r,a,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=b.length?b[b.length-1].id+1:1,r=Object(E.a)(new Date,"MMMM dd, yyyy pp"),a={id:n,title:c,datetime:r,body:o},e.prev=4,e.next=7,k.post("/posts",a);case 7:i=e.sent,l=[].concat(Object(C.a)(b),[i.data]),d(l),s(""),j(""),p.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("Error: ".concat(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("main",{className:"NewPost",children:[Object(l.jsx)("h2",{children:"New Post"}),Object(l.jsxs)("form",{className:"newPostForm",onSubmit:x,children:[Object(l.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(l.jsx)("input",{id:"postTitle",type:"text",required:!0,value:c,onChange:function(e){return s(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"postBody",children:"Post:"}),Object(l.jsx)("textarea",{id:"postBody",required:!0,value:o,onChange:function(e){return j(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:"Submit"})]})]})},M=function(){var e=Object(n.useContext)(g),t=e.posts,c=e.setPosts,s=Object(F.g)().id,r=Object(F.f)(),a=t.find((function(e){return e.id.toString()===s})),o=function(){var e=Object(O.a)(h.a.mark((function e(n){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.delete("/posts/".concat(n));case 3:s=t.filter((function(e){return e.id!==n})),c(s),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("main",{className:"PostPage",children:Object(l.jsxs)("article",{className:"post",children:[a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:a.title}),Object(l.jsx)("p",{className:"postDate",children:a.datetime}),Object(l.jsx)("p",{className:"postBody",children:a.body}),Object(l.jsx)(b.b,{to:"/edit/".concat(a.id),children:Object(l.jsx)("button",{className:"editButton",children:"Edit Post"})}),Object(l.jsx)("button",{className:"deleteButton",onClick:function(){return o(a.id)},children:"Delete Post"})]}),!a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Post Not Found"}),Object(l.jsx)("p",{children:"Well, that's disappointing."}),Object(l.jsx)("p",{children:Object(l.jsx)(b.b,{to:"/",children:"Visit Our Homepage"})})]})]})})},B=c(34),T=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),a=Object(i.a)(r,2),o=a[0],j=a[1],u=Object(n.useContext)(g),d=u.posts,p=u.setPosts,x=Object(F.f)(),f=Object(F.g)().id,m=d.find((function(e){return e.id.toString()===f}));Object(n.useEffect)((function(){m&&(s(m.title),j(m.body))}),[m,s,j]);var v=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(E.a)(new Date,"MMMM dd, yyyy pp"),r={id:t,title:c,datetime:n,body:o},e.prev=2,e.next=5,k.put("/posts/".concat(t),r);case 5:a=e.sent,p(d.map((function(e){return e.id===t?Object(B.a)({},a.data):e}))),s(""),j(""),x.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("main",{className:"NewPost",children:[c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Edit Post"}),Object(l.jsxs)("form",{className:"newPostForm",onSubmit:function(e){return e.preventDefault()},children:[Object(l.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(l.jsx)("input",{id:"postTitle",type:"text",required:!0,value:c,onChange:function(e){return s(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"postBody",children:"Post:"}),Object(l.jsx)("textarea",{id:"postBody",required:!0,value:o,onChange:function(e){return j(e.target.value)}}),Object(l.jsx)("button",{type:"submit",onClick:function(){return v(m.id)},children:"Submit"})]})]}),!c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Post Not Found"}),Object(l.jsx)("p",{children:"Well, that's disappointing."}),Object(l.jsx)("p",{children:Object(l.jsx)(b.b,{to:"/",children:"Visit Our Homepage"})})]})]})},D=function(){return Object(l.jsxs)("main",{className:"About",children:[Object(l.jsx)("h2",{children:"About"}),Object(l.jsx)("p",{style:{marginTop:"1rem"},children:"This blog app is a project in the Learn React tutorial series."})]})},H=function(){return Object(l.jsxs)("main",{className:"Missing",children:[Object(l.jsx)("h2",{children:"Page Not Found"}),Object(l.jsx)("p",{children:"Well, that's disappointing."}),Object(l.jsx)("p",{children:Object(l.jsx)(b.b,{to:"/",children:"Visit Our Homepage"})})]})};var R=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{title:"React JS Blog"}),Object(l.jsxs)(v,{children:[Object(l.jsx)(y,{}),Object(l.jsxs)(F.c,{children:[Object(l.jsx)(F.a,{exact:!0,path:"/",component:P}),Object(l.jsx)(F.a,{exact:!0,path:"/post",component:L}),Object(l.jsx)(F.a,{path:"/edit/:id",component:T}),Object(l.jsx)(F.a,{path:"/post/:id",component:M}),Object(l.jsx)(F.a,{path:"/about",component:D}),Object(l.jsx)(F.a,{path:"*",component:H})]})]}),Object(l.jsx)(w,{})]})};a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(b.a,{children:Object(l.jsx)(F.a,{path:"/",component:R})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.c4a42bed.chunk.js.map